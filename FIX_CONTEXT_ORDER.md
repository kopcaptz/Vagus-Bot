# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

## –ü—Ä–æ–±–ª–µ–º–∞

–¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–±–∞–≤–ª—è–ª—Å—è **–ü–ï–†–ï–î** –∏—Å—Ç–æ—Ä–∏–µ–π, –∏–∑-–∑–∞ —á–µ–≥–æ AI –Ω–µ –≤–∏–¥–µ–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ—Ç–≤–µ—á–∞–ª –Ω–∞ –≤–æ–ø—Ä–æ—Å.

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:**
1. system: –¢—ã –ø–æ–ª–µ–∑–Ω—ã–π AI...
2. user: **–ö–∞–∫ –º–µ–Ω—è –∑–æ–≤—É—Ç?** ‚ùå (—Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å)
3. user: –ú–µ–Ω—è –∑–æ–≤—É—Ç –ò–≤–∞–Ω... (–∏—Å—Ç–æ—Ä–∏—è)

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫:**
1. system: –¢—ã –ø–æ–ª–µ–∑–Ω—ã–π AI...
2. user: –ú–µ–Ω—è –∑–æ–≤—É—Ç –ò–≤–∞–Ω... (–∏—Å—Ç–æ—Ä–∏—è)
3. user: **–ö–∞–∫ –º–µ–Ω—è –∑–æ–≤—É—Ç?** ‚úÖ (—Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å)

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `trimContextByTokens`

–¢–µ–ø–µ—Ä—å —Å–æ–æ–±—â–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏ –æ–±—Ä–µ–∑–∫–µ –ø–æ —Ç–æ–∫–µ–Ω–∞–º.

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –≤ –ª–æ–≥–∞—Ö –≤–∏–¥–Ω–æ:
- –ü–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ –æ–±—Ä–µ–∑–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```powershell
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
npm run dev
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç

```powershell
cd "C:\Users\kopca\OneDrive\Desktop\–ù–æ–≤–∞—è –ø–∞–ø–∫–∞\openclaw-main\simple-bot"
npx tsx test-context-simple.js
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
üìã –ü–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ (–¥–æ –æ–±—Ä–µ–∑–∫–∏):
   1. system: –¢—ã –ø–æ–ª–µ–∑–Ω—ã–π AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç...
   2. user: –ú–µ–Ω—è –∑–æ–≤—É—Ç –ò–≤–∞–Ω... (–∏—Å—Ç–æ—Ä–∏—è)
   3. assistant: –ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω... (–∏—Å—Ç–æ—Ä–∏—è)
   4. user: –ö–∞–∫ –º–µ–Ω—è –∑–æ–≤—É—Ç? (—Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å) ‚úÖ
‚úÖ –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–≤–µ—Ç AI

AI –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å: **"–¢–µ–±—è –∑–æ–≤—É—Ç –ò–≤–∞–Ω"** –∏–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–±–Ω–æ–µ, –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

## –¢–µ—Å—Ç —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "ü§ñ –í—ã–±–æ—Ä AI –º–æ–¥–µ–ª–∏"
3. **Chat ID:** `test_simple_context`
4. **–í–æ–ø—Ä–æ—Å:** `–ö–∞–∫ –º–µ–Ω—è –∑–æ–≤—É—Ç?`
5. –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å"

–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
- ‚úÖ –û—Ç–≤–µ—Ç —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º "–ò–≤–∞–Ω"
- ‚úÖ "üìö ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ X —Å–æ–æ–±—â–µ–Ω–∏–π"

## –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∏:
- `üìã –ü–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ`
- `‚úÖ –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π: —Ç–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ü–µ`

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: –¢–µ–∫—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –≤ –∫–æ–Ω—Ü–µ!` - —Å–æ–æ–±—â–∏—Ç–µ, –∏ –º—ã –∏—Å–ø—Ä–∞–≤–∏–º –¥–∞–ª—å—à–µ.
