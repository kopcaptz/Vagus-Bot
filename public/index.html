<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vagus Bot - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="shell">
        <header class="topbar">
            <h1 class="topbar-title" data-i18n="title">Vagus Bot</h1>
            <div class="topbar-lang">
                <button type="button" class="lang-btn" data-lang="en">EN</button>
                <button type="button" class="lang-btn" data-lang="ru">RU</button>
            </div>
        </header>
<<<<<<< HEAD

        <div class="stats-card">
            <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div id="stats">
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
            <button onclick="loadStats()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>

        <div class="send-card">
            <h2>üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h2>
            <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π Telegram –±–æ—Ç
            </p>
            <form id="sendForm">
                <input type="text" id="chatId" placeholder="Chat ID" required>
                <textarea id="message" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ" required></textarea>
                <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </form>
            <div id="result"></div>
        </div>

        <div class="power-source-card">
            <h2>‚ö° –ò—Å—Ç–æ—á–Ω–∏–∫ —Å–∏–ª—ã</h2>
            <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                –í—ã–±–µ—Ä–∏—Ç–µ, —á–µ—Ä–µ–∑ –∫–∞–∫–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –±–æ—Ç –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ AI
            </p>
            <div id="providerList">
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
            <div id="providerStatus" style="margin-top: 15px;"></div>

            <!-- Google OAuth controls -->
            <div id="googleOAuthSection" style="margin-top: 15px; display: none;">
                <div style="background: #fff3cd; padding: 12px; border-radius: 8px; border-left: 4px solid #ffc107; margin-bottom: 12px; font-size: 0.85em;">
                    <strong>‚ö†Ô∏è Google OAuth (Preview):</strong> –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –Ω–æ –±–µ–∑ SLA. –õ–∏–º–∏—Ç—ã –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è.
                </div>
                <div id="googleStatus" style="margin-bottom: 10px;"></div>
                <div id="googleModelSelect" style="margin-bottom: 10px; display: none;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">Gemini –º–æ–¥–µ–ª—å:</label>
                    <select id="googleModelDropdown" style="width: 100%; padding: 10px;"></select>
                    <button onclick="selectGoogleModel()" style="margin-top: 8px; width: 100%;">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å</button>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button id="googleConnectBtn" onclick="connectGoogle()" style="flex: 1; background: #28a745;">üîó –ü–æ–¥–∫–ª—é—á–∏—Ç—å Google</button>
                    <button id="googleDisconnectBtn" onclick="disconnectGoogle()" style="flex: 1; background: #dc3545; display: none;">üîì –û—Ç–∫–ª—é—á–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <div class="model-card">
            <h2>ü§ñ –í—ã–±–æ—Ä AI –º–æ–¥–µ–ª–∏ (OpenRouter)</h2>
            <div id="modelInfo">
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
            <div id="modelSelector" style="margin-top: 15px;">
                <select id="modelSelect" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <option value="none">–ë–µ–∑ AI</option>
                    <option value="openai-gpt-4">OpenAI GPT-4</option>
                    <option value="openai-gpt-3.5">OpenAI GPT-3.5 Turbo</option>
                    <option value="anthropic-claude">Anthropic Claude</option>
                </select>
                <button onclick="selectModel()">–í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å</button>
            </div>
            <div id="personaSelector" style="margin-top: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">üé≠ –í—ã–±–µ—Ä–∏—Ç–µ –õ–∏—á–Ω–æ—Å—Ç—å</label>
                <select id="personaSelect" style="width: 100%; padding: 10px; margin-bottom: 10px;">
                    <option value="default">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                </select>
                <div style="display: flex; gap: 10px;">
                    <button onclick="selectPersona()" style="flex: 1;">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å</button>
                    <button onclick="togglePersonaEditor()" style="flex: 1; background: #6c757d;">‚öôÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
=======
        <nav class="nav">
            <a href="#" class="nav-link active" data-view="stats" data-i18n="nav.stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
            <a href="#" class="nav-link" data-view="send" data-i18n="nav.send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</a>
            <a href="#" class="nav-link" data-view="models" data-i18n="nav.models">–ú–æ–¥–µ–ª–∏ –∏ –ª–∏—á–Ω–æ—Å—Ç–∏</a>
            <a href="#" class="nav-link" data-view="context" data-i18n="nav.context">–ö–æ–Ω—Ç–µ–∫—Å—Ç</a>
            <a href="#" class="nav-link" data-view="history" data-i18n="nav.history">–ò—Å—Ç–æ—Ä–∏—è</a>
            <a href="#" class="nav-link" data-view="info" data-i18n="nav.info">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</a>
        </nav>
        <main class="content">
            <!-- Stats -->
            <section id="view-stats" class="view view-active">
                <div class="card stats-card">
                    <h2 data-i18n="stats.title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    <div id="stats"><p data-i18n="msg.loading">–ó–∞–≥—Ä—É–∑–∫–∞...</p></div>
                    <button type="button" onclick="loadStats()" data-i18n="stats.refresh">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
>>>>>>> 4487979 (feat: implement dashboard i18n, model router, and secure skill gateway)
                </div>
            </section>
            <!-- Send -->
            <section id="view-send" class="view">
                <div class="card send-card">
                    <h2 data-i18n="send.title">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ</h2>
                    <p id="telegramSendHint" data-i18n="msg.loading">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</p>
                    <form id="sendForm">
                        <input type="text" id="chatId" data-i18n-placeholder="send.chatId" placeholder="Chat ID" required>
                        <textarea id="message" data-i18n-placeholder="send.message" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ" required></textarea>
                        <button type="submit" data-i18n="send.submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                    </form>
                    <div id="result"></div>
                </div>
            </section>
            <!-- Models & Personas -->
            <section id="view-models" class="view">
                <div class="card model-card">
                    <h2 data-i18n="models.title">ü§ñ –í—ã–±–æ—Ä AI –º–æ–¥–µ–ª–∏</h2>
                    <div id="modelInfo"><p data-i18n="msg.loading">–ó–∞–≥—Ä—É–∑–∫–∞...</p></div>
                    <div class="model-selector">
                        <select id="modelSelect">
                            <option value="none" data-i18n="msg.loading">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
                        </select>
                        <button type="button" onclick="selectModel()" data-i18n="models.selectModel">–í—ã–±—Ä–∞—Ç—å –º–æ–¥–µ–ª—å</button>
                    </div>
                    <div class="persona-selector">
                        <label data-i18n="models.personaLabel">üé≠ –í—ã–±–µ—Ä–∏—Ç–µ –õ–∏—á–Ω–æ—Å—Ç—å</label>
                        <select id="personaSelect">
                            <option value="default" data-i18n="models.defaultPersona">–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é</option>
                        </select>
                        <div class="persona-actions">
                            <button type="button" onclick="selectPersona()" data-i18n="models.applyPersona">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å</button>
                            <button type="button" onclick="togglePersonaEditor()" class="btn-secondary" data-i18n="models.editPersona">‚öôÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                    </div>
                    <div id="personaEditor" class="persona-editor" style="display: none;">
                        <div class="form-group">
                            <label data-i18n="models.personaName">–ò–º—è –ª–∏—á–Ω–æ—Å—Ç–∏</label>
                            <input type="text" id="personaName" data-i18n-placeholder="models.personaNamePlaceholder" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–Ω–∂–µ–Ω–µ—Ä Solar">
                        </div>
                        <div class="form-group">
                            <label data-i18n="models.systemPrompt">System Prompt</label>
                            <textarea id="personaPrompt" rows="6" data-i18n-placeholder="models.personaPromptPlaceholder" placeholder="–û–ø–∏—à–∏ —Å—Ç–∏–ª—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏..."></textarea>
                        </div>
                        <div class="persona-editor-actions">
                            <button type="button" onclick="savePersona(false)" class="btn-success" data-i18n="models.save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            <button type="button" onclick="savePersona(true)" class="btn-info" data-i18n="models.saveAsNew">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ –Ω–æ–≤—É—é</button>
                            <button type="button" onclick="deletePersona()" class="btn-danger" data-i18n="models.delete">–£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                        <div id="personaEditorStatus"></div>
                    </div>
                    <div id="modelTest" class="model-test">
                        <h3 data-i18n="models.testAi">–¢–µ—Å—Ç AI</h3>
                        <div class="context-warning">
                            <strong data-i18n="models.contextWarning">‚ö†Ô∏è –í–ê–ñ–ù–û –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:</strong><br>
                            <strong>1.</strong> <span data-i18n="models.contextStep1">–°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é:</span> <code>npx tsx test-context-simple.js</code><br>
                            <strong>2.</strong> <span data-i18n="models.contextStep2">–£–∫–∞–∂–∏—Ç–µ Chat ID:</span> <code>test_simple_context</code><br>
                            <strong>3.</strong> <span data-i18n="models.contextStep3">–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å:</span> "–ö–∞–∫–æ–π –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞ —è –Ω–∞–∑–≤–∞–ª?"<br>
                            <strong data-i18n="models.contextNoChatId">–ë–µ–∑ Chat ID –∫–æ–Ω—Ç–µ–∫—Å—Ç –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç!</strong>
                        </div>
                        <div class="form-group">
                            <label><span data-i18n="models.testChatIdLabel">Chat ID (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞):</span> <span class="required">*</span></label>
                            <input type="text" id="testChatId" data-i18n-placeholder="models.testChatIdPlaceholder" placeholder="test_simple_context" class="test-chat-input">
                            <small data-i18n="models.testChatIdHint">–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏</small>
                        </div>
                        <div class="form-group">
                            <label data-i18n="models.testMessageLabel">–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
                            <input type="text" id="testMessage" data-i18n-placeholder="models.testMessagePlaceholder" placeholder="–ö–∞–∫–æ–π –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞ —è –Ω–∞–∑–≤–∞–ª?">
                        </div>
                        <div class="form-group">
                            <label data-i18n="models.imagesLabel">üì∑ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (Vision):</label>
                            <input type="file" id="testImages" accept="image/*" multiple>
                            <small data-i18n="models.imagesHint">–î–æ 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –¥–æ 5 MB –∫–∞–∂–¥–æ–µ</small>
                        </div>
                        <div class="form-group">
                            <label data-i18n="models.testRoleLabel">–ö—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:</label>
                            <select id="testRole">
                                <option value="user" data-i18n="models.roleUser">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                                <option value="assistant" data-i18n="models.roleBot">–ë–æ—Ç</option>
                            </select>
                        </div>
                        <div class="test-actions">
                            <button type="button" onclick="addToHistory()" class="btn-success" data-i18n="models.addToHistory">–î–æ–±–∞–≤–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é</button>
                            <button type="button" onclick="testAI()" data-i18n="models.test">–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        </div>
                        <div id="testResult"></div>
                    </div>
                </div>
            </section>
            <!-- Context -->
            <section id="view-context" class="view">
                <div class="card context-card">
                    <h2 data-i18n="context.title">üß† –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å</h2>
                    <div id="contextConfig"><p data-i18n="msg.loading">–ó–∞–≥—Ä—É–∑–∫–∞...</p></div>
                    <div class="context-settings">
                        <label class="checkbox-label">
                            <input type="checkbox" id="contextEnabled">
                            <span data-i18n="context.enabled">–í–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ø–∞–º—è—Ç—å</span>
                        </label>
                        <div class="form-group">
                            <label data-i18n="context.maxMessages">–ú–∞–∫—Å–∏–º—É–º —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:</label>
                            <input type="number" id="contextMaxMessages" min="1" max="50" value="10">
                        </div>
                        <div class="form-group">
                            <label data-i18n="context.maxTokens">–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ):</label>
                            <input type="number" id="contextMaxTokens" min="100" max="10000" value="2000">
                        </div>
                        <label class="checkbox-label">
                            <input type="checkbox" id="contextSystemPrompt">
                            <span data-i18n="context.includeSystemPrompt">–í–∫–ª—é—á–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç</span>
                        </label>
                        <button type="button" onclick="saveContextConfig()" data-i18n="context.saveSettings">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                    </div>
                    <div class="context-preview">
                        <h3 data-i18n="context.preview">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</h3>
                        <div class="context-preview-pair">
                            <input type="text" id="contextPreviewChatId" data-i18n-placeholder="context.previewPlaceholder" placeholder="Chat ID –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞">
                            <button type="button" onclick="previewContext()" data-i18n="context.show">–ü–æ–∫–∞–∑–∞—Ç—å</button>
                        </div>
                        <div id="contextPreviewContent"></div>
                    </div>
                </div>
            </section>
            <!-- History -->
            <section id="view-history" class="view">
                <div class="card history-card">
                    <h2 data-i18n="history.title">üìú –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π</h2>
                    <div class="form-group">
                        <label data-i18n="history.chatIdLabel">Chat ID:</label>
                        <input type="text" id="historychatId" data-i18n-placeholder="history.chatIdPlaceholder" placeholder="web_test_1">
                    </div>
                    <div class="history-controls">
                        <input type="text" id="history-search" data-i18n-placeholder="history.searchPlaceholder" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É...">
                        <select id="history-role">
                            <option value="" data-i18n="history.allRoles">–í—Å–µ —Ä–æ–ª–∏</option>
                            <option value="user" data-i18n="history.roleUser">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                            <option value="bot" data-i18n="history.roleBot">ü§ñ –ë–æ—Ç</option>
                        </select>
                        <button type="button" onclick="loadHistory()" data-i18n="history.refresh">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                        <button type="button" onclick="clearCurrentChat()" class="danger" data-i18n="history.clearChat">üóë –û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç</button>
                        <button type="button" onclick="exportHistory()" class="success" data-i18n="history.exportJson">üíæ JSON</button>
                    </div>
                    <div id="history-list" class="history-container">
                        <div class="history-empty" data-i18n="history.empty">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ ID –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</div>
                    </div>
                    <div class="history-pagination" id="history-pagination"></div>
                </div>
            </section>
            <!-- Info -->
            <section id="view-info" class="view">
                <div class="card info-card">
                    <h2 data-i18n="info.title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                    <p data-i18n="info.description">–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –±–æ—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.</p>
                    <p><strong data-i18n="info.available">–î–æ—Å—Ç—É–ø–Ω–æ:</strong></p>
                    <ul>
                        <li>‚úÖ <span data-i18n="info.aiProcessing">AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (OpenAI, Anthropic)</span></li>
                        <li>‚úÖ <span data-i18n="info.modelSelection">–í—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</span></li>
                        <li>‚úÖ <span data-i18n="info.database">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π</span></li>
                        <li>‚úÖ <span data-i18n="info.contextMemory">–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤</span></li>
                        <li>‚úÖ <span data-i18n="info.localAccess">–î–æ—Å—Ç—É–ø –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏</span></li>
                    </ul>
                    <p><strong data-i18n="info.future">–í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:</strong></p>
                    <ul>
                        <li data-i18n="info.futureChannels">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (WhatsApp, Discord)</li>
                        <li data-i18n="info.futurePersonalization">–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏</li>
                        <li data-i18n="info.futurePlugins">–ü–ª–∞–≥–∏–Ω—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è</li>
                    </ul>
                </div>
<<<<<<< HEAD
                <div style="margin-bottom: 10px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
                    <input type="text" id="testMessage" placeholder="–ö–∞–∫–æ–π –∫–æ–¥ –¥–æ—Å—Ç—É–ø–∞ —è –Ω–∞–∑–≤–∞–ª?" style="width: 100%; padding: 10px;">
                </div>
                <div style="margin-bottom: 10px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">üì∑ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (Vision):</label>
                    <input type="file" id="testImages" accept="image/*" multiple style="width: 100%; padding: 8px;">
                    <small style="color: #666; font-size: 0.85em;">–î–æ 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –¥–æ 5 MB –∫–∞–∂–¥–æ–µ</small>
                </div>
                <div style="margin-bottom: 10px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">–ö—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:</label>
                    <select id="testRole" style="width: 100%; padding: 10px;">
                        <option value="user">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                        <option value="assistant">–ë–æ—Ç</option>
                    </select>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button onclick="addToHistory()" style="flex: 1; padding: 12px; font-size: 16px; font-weight: bold; background: #28a745;">–î–æ–±–∞–≤–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é</button>
                    <button onclick="testAI()" style="flex: 1; padding: 12px; font-size: 16px; font-weight: bold;">–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
                <div id="testResult" style="margin-top: 10px;"></div>
            </div>
        </div>

        <div class="context-card">
            <h2>üß† –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å</h2>
            <div id="contextConfig">
                <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>
            <div id="contextSettings" style="margin-top: 15px;">
                <label style="display: flex; align-items: center; margin-bottom: 10px;">
                    <input type="checkbox" id="contextEnabled" style="margin-right: 10px; width: 20px; height: 20px;">
                    <span>–í–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—É—é –ø–∞–º—è—Ç—å</span>
                </label>
                <div style="margin-bottom: 10px;">
                    <label>–ú–∞–∫—Å–∏–º—É–º —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ:</label>
                    <input type="number" id="contextMaxMessages" min="1" max="50" value="10" style="width: 100%; padding: 8px; margin-top: 5px;">
                </div>
                <div style="margin-bottom: 10px;">
                    <label>–ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ (–ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ):</label>
                    <input type="number" id="contextMaxTokens" min="100" max="10000" value="2000" style="width: 100%; padding: 8px; margin-top: 5px;">
                </div>
                <label style="display: flex; align-items: center; margin-bottom: 10px;">
                    <input type="checkbox" id="contextSystemPrompt" style="margin-right: 10px; width: 20px; height: 20px;">
                    <span>–í–∫–ª—é—á–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç</span>
                </label>
                <button onclick="saveContextConfig()" style="width: 100%; margin-top: 10px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
            <div id="contextPreview" style="margin-top: 15px; padding: 10px; background: #f5f5f5; border-radius: 8px;">
                <h3 style="margin-bottom: 10px;">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞</h3>
                <input type="text" id="contextPreviewChatId" placeholder="Chat ID –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞" style="width: 70%; padding: 8px; margin-right: 5px;">
                <button onclick="previewContext()" style="width: 25%;">–ü–æ–∫–∞–∑–∞—Ç—å</button>
                <div id="contextPreviewContent" style="margin-top: 10px;"></div>
            </div>
        </div>

        <div class="history-card">
            <h2>üìú –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π</h2>
            <div style="margin-bottom: 10px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">Chat ID:</label>
                <input type="text" id="historychatId" placeholder="web_test_1" style="width: 100%; padding: 10px;">
            </div>

            <div class="history-controls">
                <input type="text" id="history-search" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É..." />

                <select id="history-role">
                    <option value="">–í—Å–µ —Ä–æ–ª–∏</option>
                    <option value="user">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                    <option value="bot">ü§ñ –ë–æ—Ç</option>
                </select>

                <button onclick="loadHistory()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                <button onclick="clearCurrentChat()" class="danger">üóë –û—á–∏—Å—Ç–∏—Ç—å —á–∞—Ç</button>
                <button onclick="exportHistory()" class="success">üíæ JSON</button>
            </div>

            <div id="history-list" class="history-container">
                <div class="history-empty">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ ID –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</div>
            </div>

            <div class="history-pagination" id="history-pagination"></div>
        </div>

        <div class="info-card">
            <h2>‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
            <p>–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –±–æ—Ç —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.</p>
            <p><strong>–î–æ—Å—Ç—É–ø–Ω–æ:</strong></p>
            <ul>
                <li>‚úÖ AI –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (OpenRouter, Google Gemini)</li>
                <li>‚úÖ Google OAuth ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ Gemini –º–æ–¥–µ–ª–∏</li>
                <li>‚úÖ –í—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
                <li>‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π</li>
                <li>‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤</li>
                <li>‚úÖ Failover: Google OAuth ‚Üí OpenRouter</li>
                <li>‚úÖ –î–æ—Å—Ç—É–ø –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏</li>
            </ul>
            <p><strong>–ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã:</strong></p>
            <ul>
                <li>‚ö° <strong>OpenRouter</strong> ‚Äî Claude, DeepSeek, Gemini –∏ –¥—Ä—É–≥–∏–µ (API key)</li>
                <li>‚ö° <strong>Google OAuth</strong> ‚Äî Gemini Preview –±–µ—Å–ø–ª–∞—Ç–Ω–æ (OAuth)</li>
            </ul>
        </div>
=======
            </section>
        </main>
>>>>>>> 4487979 (feat: implement dashboard i18n, model router, and secure skill gateway)
    </div>

    <script src="i18n.js"></script>
    <script src="app.js"></script>
</body>
</html>
